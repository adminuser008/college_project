<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Sofia 2.0 - AI Chatbot</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Showdown library to render Markdown -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/2.1.0/showdown.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        
        html {
            overscroll-behavior: none;
        }
        body {
            overflow: hidden;
            overscroll-behavior: none;
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
        }
        .chat-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            padding: 1rem;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        .chat-container::-webkit-scrollbar {
            display: none;
        }
        .message-bubble {
            max-width: 85%;
            padding: 0.75rem 1.25rem;
            border-radius: 1.5rem;
            margin-bottom: 0.75rem;
            word-wrap: break-word;
            line-height: 1.6;
            position: relative;
        }
        .user-message {
            background-color: #3b82f6;
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 0.5rem;
            width: fit-content;
        }
        .ai-message {
            background-color: #e5e7eb;
            color: #1f2937;
            align-self: flex-start;
            border-bottom-left-radius: 0.5rem;
            padding-bottom: 2.5rem; /* Space for action icons */
            width: fit-content; 
        }
        .ai-message-container {
             display: flex;
             align-items: flex-start;
             gap: 0.75rem;
             max-width: 85%;
             margin-right: auto;
             margin-bottom: 0.75rem;
             width: fit-content;
        }
        .ai-avatar {
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 50%;
            background-color: #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        .ai-message ul { list-style-type: disc; padding-left: 1.5rem; margin-top: 0.5rem; margin-bottom: 0.5rem; }
        .ai-message li { margin-bottom: 0.25rem; }
        .ai-message strong, .ai-message b { font-weight: 600; color: #111827; }
        .system-message { background-color: #f87171; color: white; align-self: center; text-align: center; font-size: 0.875rem; padding: 0.5rem 1rem; }
        #message-input { resize: none; overflow-y: hidden; max-height: 150px; }
        #file-preview-container { padding: 0.5rem 0.5rem 0 0.5rem; display: flex; gap: 0.5rem; }
        .preview-item { position: relative; border-radius: 0.5rem; overflow: hidden; border: 1px solid #e5e7eb; }
        .preview-item.image-preview { width: 70px; height: 70px; }
        .preview-item img { width: 100%; height: 100%; object-fit: cover; }
        .preview-item.doc-preview { display: flex; align-items: center; padding: 0.5rem 0.75rem; background-color: #f3f4f6; }
        .doc-preview .file-icon { flex-shrink: 0; margin-right: 0.5rem; }
        .doc-preview .file-name { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-size: 0.875rem; color: #4b5563; }
        .remove-preview-btn { position: absolute; top: 2px; right: 2px; width: 1.25rem; height: 1.25rem; background-color: rgba(0,0,0,0.5); color: white; border-radius: 50%; border: none; cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 0.75rem; line-height: 1; }
        body.initial-view .chat-area { 
            display: flex; 
            flex-direction: column; 
            justify-content: center; 
            align-items: center; 
        }
        body.initial-view #welcome-message-container { flex-grow: 0; }
        .mode-indicator { display: inline-flex; align-items: center; gap: 0.5rem; background-color: #e0e7ff; color: #3730a3; padding: 0.25rem 0.75rem; border-radius: 9999px; font-size: 0.875rem; }
        #voice-overlay { background-color: #87CEEB; } /* Sky blue */
        .cloud {
            width: 250px; height: 250px; background: white;
            border-radius: 50%; position: relative; filter: drop-shadow(0 0 15px rgba(0,0,0,0.1));
            animation: pulse 2s infinite ease-in-out;
        }
        .cloud::before, .cloud::after {
            content: ''; position: absolute; background: white; border-radius: 50%;
        }
        .cloud::before { width: 150px; height: 150px; top: -50px; left: 30px; }
        .cloud::after { width: 120px; height: 120px; top: -20px; right: 20px; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
        .message-actions { position: absolute; bottom: 0.5rem; right: 0.75rem; display: flex; gap: 0.5rem; opacity: 0.7; }
        .action-btn { background: none; border: none; cursor: pointer; color: #6b7280; padding: 0.25rem; border-radius: 9999px; transition: background-color 0.2s, color 0.2s; }
        .action-btn:hover { background-color: #d1d5db; }
        .menu-item { display: flex; align-items: center; gap: 0.75rem; padding: 0.5rem 0.75rem; border-radius: 0.5rem; cursor: pointer; transition: background-color 0.2s; }
        .menu-item:hover { background-color: #f3f4f6; }
        .listening-bar { width: 3px; height: 5px; background-color: #6b7280; border-radius: 5px; animation: listening 1.2s infinite ease-in-out; }
        .listening-bar:nth-child(2) { animation-delay: -1.0s; }
        .listening-bar:nth-child(3) { animation-delay: -0.8s; }
        @keyframes listening {
            0%, 40%, 100% { transform: scaleY(0.4); }
            20% { transform: scaleY(1.0); }
        }
        #sidebar {
            transition: transform 0.3s ease-in-out;
        }
        .sidebar-item {
             display: flex; align-items: center; gap: 0.75rem; padding: 0.5rem; border-radius: 0.5rem; cursor: pointer;
             color: #374151; font-medium;
        }
        .sidebar-item:hover { background-color: #e5e7eb; }
        .chat-history-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.5rem 0.75rem;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: background-color 0.2s;
            font-size: 0.875rem;
            color: #4b5563;
        }
        .chat-history-item .chat-title {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            flex-grow: 1;
            margin-right: 0.5rem;
        }
        .chat-history-item:hover { background-color: #e5e7eb; }
        .chat-history-item.active { background-color: #dbeafe; color: #1e40af; }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        .ai-avatar-animated {
            position: relative;
            width: 2.5rem;
            height: 2.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .orbiting-circle {
            position: absolute;
            width: 100%;
            height: 100%;
            border: 3px solid transparent;
            border-top-color: #3b82f6;
            border-radius: 50%;
            animation: spin 1.5s linear infinite;
        }
        #settings-modal {
            background-color: rgba(0, 0, 0, 0.5);
        }
        /* Improved Dark Mode Styles */
        .dark body { background-color: #000000; }
        .dark #sidebar { background-color: #111111; border-r-color: #292929;}
        .dark .sidebar-item { color: #e0e0e0; }
        .dark .sidebar-item:hover { background-color: #252525; }
        .dark .chat-history-item { color: #a0a0a0; }
        .dark .chat-history-item:hover { background-color: #252525; }
        .dark .chat-history-item.active { background-color: #1e3a8a; color: #e0e0e0; }

        .dark input[type="search"] { background-color: #1f1f1f; border-color: #333333; color: #f0f0f0; }
        .dark .border-t { border-top-color: #292929; }
        .dark .border-b { border-bottom-color: #292929; }
        .dark #user-menu { background-color: #181818; border-color: #292929; }
        .dark .menu-item:hover { background-color: #252525; }
        .dark .text-gray-700 { color: #e0e0e0; }
        .dark .text-gray-500 { color: #a0a0a0; }
        .dark header { background-color: #000000; border-b-color: #292929; }
        .dark main.chat-area { background-color: #000000; }
        .dark #welcome-message-container h1 { color: #f0f0f0; }
        .dark footer { background-color: #000000; }
        .dark footer > div { background-color: #1c1c1c; border-color: #333333; }
        .dark #message-input { color: #f0f0f0; }
        .dark .ai-message { background-color: #222222; color: #e0e0e0; }
        .dark .ai-message strong, .dark .ai-message b { color: #f9fafb; }
        .dark .action-btn { color: #a0a0a0; }
        .dark .action-btn:hover { background-color: #333333; }
        .dark #settings-modal .bg-white { background-color: #181818; }
        .dark #settings-modal h2, .dark #settings-modal h3, .dark #settings-modal label, .dark #settings-modal span, .dark #settings-modal p, .dark .settings-tab-btn { color: #f0f0f0; }
        .dark .sm\\:border-r { border-right-color: #292929; }
        .dark #settings-modal .settings-tab-btn.active { background-color: #252525; color: #f0f0f0; }
        .dark #settings-modal .settings-tab-btn:hover { background-color: #333333; }
        .dark #settings-modal .theme-btn { border-color: #333333; }
        .dark #settings-modal select { background-color: #1f1f1f; border-color: #333333; color: #f0f0f0; }
        .dark #profile-settings-content .border-b { border-bottom-color: #333; }
        .dark #profile-settings-content .text-gray-600 { color: #a0a0a0; }
        .dark #profile-settings-content .text-gray-800 { color: #f0f0f0; }
        .dark #auth-container form { background-color: #1f2937; }
        .dark #auth-container input { background-color: #374151; border-color: #4b5563; color: #f3f4f6; }
        .dark .auth-overlay-container { background-color: #111827; }
        .dark .auth-overlay { background: linear-gradient(to right, #dc2626, #ef4444); }
        .dark .ghost { border-color: #f9fafb; }
        
        /* --- Login/Signup Styles --- */
        #auth-container {
            position: fixed;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f3f4f6;
            z-index: 100;
        }
        .auth-main-container {
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);
            position: relative;
            overflow: hidden;
            width: 768px;
            max-width: 100%;
            min-height: 480px;
        }
        .form-container {
            position: absolute;
            top: 0;
            height: 100%;
            transition: all 0.6s ease-in-out;
        }
        .sign-in-container { left: 0; width: 50%; z-index: 2; }
        .sign-up-container { left: 0; width: 50%; opacity: 0; z-index: 1; }

        .auth-main-container.right-panel-active .sign-in-container { transform: translateX(100%); }
        .auth-main-container.right-panel-active .sign-up-container {
            transform: translateX(100%);
            opacity: 1;
            z-index: 5;
            animation: show 0.6s;
        }
        @keyframes show { 0%, 49.99% { opacity: 0; z-index: 1; } 50%, 100% { opacity: 1; z-index: 5; } }

        .auth-overlay-container {
            position: absolute;
            top: 0;
            left: 50%;
            width: 50%;
            height: 100%;
            overflow: hidden;
            transition: transform 0.6s ease-in-out;
            z-index: 50;
        }
        .auth-main-container.right-panel-active .auth-overlay-container { transform: translateX(-100%); }

        .auth-overlay {
            background: #FF416C;
            background: -webkit-linear-gradient(to right, #FF4B2B, #FF416C);
            background: linear-gradient(to right, #FF4B2B, #FF416C);
            background-repeat: no-repeat;
            background-size: cover;
            background-position: 0 0;
            color: #FFFFFF;
            position: relative;
            left: -100%;
            height: 100%;
            width: 200%;
            transform: translateX(0);
            transition: transform 0.6s ease-in-out;
        }
        .auth-main-container.right-panel-active .auth-overlay { transform: translateX(50%); }

        .auth-overlay-panel {
            position: absolute;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            padding: 0 40px;
            text-align: center;
            top: 0;
            height: 100%;
            width: 50%;
            transform: translateX(0);
            transition: transform 0.6s ease-in-out;
        }
        .overlay-left { transform: translateX(-20%); }
        .auth-main-container.right-panel-active .overlay-left { transform: translateX(0); }
        .overlay-right { right: 0; transform: translateX(0); }
        .auth-main-container.right-panel-active .overlay-right { transform: translateX(20%); }

        .auth-main-container form {
            background-color: #FFFFFF;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            padding: 0 50px;
            height: 100%;
            text-align: center;
        }
        .auth-main-container input {
            background-color: #eee;
            border: none;
            padding: 12px 15px;
            margin: 8px 0;
            width: 100%;
            border-radius: 8px;
        }
        .auth-main-container button {
            border-radius: 20px;
            border: 1px solid #FF4B2B;
            background-color: #FF4B2B;
            color: #FFFFFF;
            font-size: 12px;
            font-weight: bold;
            padding: 12px 45px;
            letter-spacing: 1px;
            text-transform: uppercase;
            transition: transform 80ms ease-in;
            cursor: pointer;
        }
        .auth-main-container button:active { transform: scale(0.95); }
        .auth-main-container button:focus { outline: none; }
        .auth-main-container button.ghost { background-color: transparent; border-color: #FFFFFF; }
        .social-container a {
            border: 1px solid #DDDDDD;
            border-radius: 50%;
            display: inline-flex;
            justify-content: center;
            align-items: center;
            margin: 0 5px;
            height: 40px;
            width: 40px;
        }

        /* --- START: Mobile UI Fixes --- */
        @media (max-width: 767px) {
            #auth-container {
                background-color: #fff;
            }
            .dark #auth-container {
                background-color: #111827;
            }
            .auth-main-container {
                width: 100%;
                height: 100%;
                min-height: 100vh;
                border-radius: 0;
                box-shadow: none;
                overflow: hidden; /* Prevent scrolling of the container itself */
                background-color: transparent;
            }
            .auth-overlay-container {
                display: none;
            }
            .form-container {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                display: flex;
                flex-direction: column;
                justify-content: center; /* Center content vertically */
                transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
                padding: 2rem; /* Add some padding */
                box-sizing: border-box;
                overflow-y: auto; /* Allow form to scroll if needed */
            }
            .dark .form-container form {
                background-color: transparent;
            }

            /* Control visibility of forms with a slide effect */
            .sign-in-container {
                opacity: 1;
                z-index: 2;
                transform: translateX(0);
            }
            .sign-up-container {
                opacity: 0;
                z-index: 1;
                transform: translateX(100%);
            }
            .auth-main-container.right-panel-active .sign-in-container {
                opacity: 0;
                transform: translateX(-100%);
                z-index: 1;
            }
            .auth-main-container.right-panel-active .sign-up-container {
                opacity: 1;
                transform: translateX(0);
                z-index: 2;
            }

            .auth-main-container form {
                width: 100%;
                padding: 0;
                background-color: transparent;
                height: auto; /* Let content determine height */
            }
            
            .auth-main-container h1 {
                font-size: 2rem;
            }

            .auth-main-container input {
                background-color: #f3f4f6;
                border: 1px solid #d1d5db;
                border-radius: 0.5rem;
                padding: 1rem;
                width: 100%;
                margin: 0.5rem 0;
                font-size: 1rem;
            }
            .auth-main-container input:focus {
                outline: none;
                border-color: #3b82f6;
                box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.4);
            }
            .dark .auth-main-container input {
                background-color: #374151;
                border-color: #4b5563;
                color: #f3f4f6;
            }
            .dark .auth-main-container input:focus {
                border-color: #60a5fa;
                box-shadow: 0 0 0 2px rgba(96, 165, 250, 0.4);
            }

            .auth-main-container button {
                border-radius: 0.5rem;
                border: 1px solid transparent;
                background-color: #ef4444;
                color: #FFFFFF;
                font-size: 1rem;
                font-weight: 600;
                padding: 1rem;
                letter-spacing: 0.5px;
                width: 100%;
                margin-top: 1rem;
            }
            .auth-main-container button:active {
                transform: scale(0.98);
            }
            .social-container {
                margin: 1.5rem 0;
            }
            .form-container a.md\:hidden {
                display: inline-block;
                margin-top: 1.5rem;
                color: #3b82f6;
                font-weight: 500;
            }
             .dark .form-container a.md\:hidden {
                color: #60a5fa;
            }
        }
        /* --- END: Mobile UI Fixes --- */
    </style>
</head>
<body class="h-full flex initial-view relative">

    <!-- Login/Signup Page -->
    <div id="auth-container">
        <div class="auth-main-container" id="auth-main-container-el">
            <div class="form-container sign-up-container">
                <form id="sign-up-form">
                    <h1 class="text-3xl font-bold mb-4">Create Account</h1>
                    <div class="social-container mb-4">
                        <a href="#" class="social"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M20 10c0-5.523-4.477-10-10-10S0 4.477 0 10c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V10h2.54V7.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V10h2.773l-.443 2.89h-2.33v6.988C16.343 19.128 20 14.991 20 10z" clip-rule="evenodd" /></svg></a>
                        <a href="#" class="social"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 48 48"><path fill="#FFC107" d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"></path><path fill="#FF3D00" d="M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"></path><path fill="#4CAF50" d="M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"></path><path fill="#1976D2" d="M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.574l6.19,5.238C39.902,35.636,44,29.598,44,24C44,22.659,43.862,21.35,43.611,20.083z"></path></svg></a>
                        <a href="#" class="social"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="#0077B5"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg></a>
                    </div>
                    <span>or use your email for registration</span>
                    <input type="text" id="signup-name" placeholder="Name" required />
                    <input type="email" id="signup-email" placeholder="Email" required />
                    <input type="password" id="signup-password" placeholder="Password" required />
                    <button class="mt-2">Sign Up</button>
                    <p id="signup-error" class="text-red-500 text-sm mt-2"></p>
                    <a href="#" class="md:hidden mt-4 text-sm" id="mobile-show-signin">Already have an account? Sign In</a>
                </form>
            </div>
            <div class="form-container sign-in-container">
                <form id="sign-in-form">
                    <h1 class="text-3xl font-bold mb-4">Sign in</h1>
                     <div class="social-container mb-4">
                        <a href="#" class="social"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M20 10c0-5.523-4.477-10-10-10S0 4.477 0 10c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V10h2.54V7.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V10h2.773l-.443 2.89h-2.33v6.988C16.343 19.128 20 14.991 20 10z" clip-rule="evenodd" /></svg></a>
                        <a href="#" class="social"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 48 48"><path fill="#FFC107" d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"></path><path fill="#FF3D00" d="M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"></path><path fill="#4CAF50" d="M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"></path><path fill="#1976D2" d="M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.574l6.19,5.238C39.902,35.636,44,29.598,44,24C44,22.659,43.862,21.35,43.611,20.083z"></path></svg></a>
                        <a href="#" class="social"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="#0077B5"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg></a>
                    </div>
                    <span>or use your account</span>
                    <input type="email" id="signin-email" placeholder="Email" required/>
                    <input type="password" id="signin-password" placeholder="Password" required/>
                    <a href="#" class="text-sm my-2">Forgot your password?</a>
                    <button>Sign In</button>
                    <p id="signin-error" class="text-red-500 text-sm mt-2"></p>
                    <a href="#" class="md:hidden mt-4 text-sm" id="mobile-show-signup">Don't have an account? Sign up</a>
                </form>
            </div>
            <div class="auth-overlay-container">
                <div class="auth-overlay">
                    <div class="auth-overlay-panel overlay-left">
                        <h1 class="text-3xl font-bold">Welcome Back!</h1>
                        <p class="text-sm mt-2 mb-4">To keep connected with us please login with your personal info</p>
                        <button class="ghost" id="signIn">Sign In</button>
                    </div>
                    <div class="auth-overlay-panel overlay-right">
                        <h1 class="text-3xl font-bold">Hello, Friend!</h1>
                        <p class="text-sm mt-2 mb-4">Enter your personal details and start your journey with us</p>
                        <button class="ghost" id="signUp">Sign Up</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="app-container" class="h-full w-full flex-col hidden"> <!-- App container -->
        <!-- Sidebar Overlay for mobile -->
        <div id="sidebar-overlay" class="hidden fixed inset-0 z-30 bg-black/50"></div>

        <!-- Voice input overlay -->
        <div id="voice-overlay" class="hidden fixed inset-0 z-50 flex-col items-center justify-center p-8">
            <div class="flex-1 flex items-center justify-center">
                <div class="cloud"></div>
            </div>
            <p id="voice-status-text" class="text-white text-lg mb-8">Listening...</p>
            <div class="flex w-full justify-center gap-16">
                <button id="stop-voice-btn" class="w-16 h-16 bg-gray-800 text-white rounded-full flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9 10h6v4H9z" />
                    </svg>
                </button>
                <button id="cancel-voice-btn" class="w-16 h-16 bg-red-500 text-white rounded-full flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
        </div>
        
        <!-- Settings Modal -->
        <div id="settings-modal" class="hidden fixed inset-0 z-50 items-center justify-center">
            <div class="bg-white rounded-lg shadow-xl w-full h-full sm:h-[70vh] sm:max-w-4xl sm:mx-4 flex flex-col sm:flex-row">
                <!-- Settings Header (Mobile) / Sidebar (Desktop) -->
                <div class="w-full sm:w-1/4 p-4 flex flex-col sm:border-r border-b sm:border-b-0 border-gray-200">
                    <div class="flex justify-between items-center sm:mb-6">
                        <h2 class="text-xl font-bold" data-lang="settings">Settings</h2>
                        <button id="close-settings-btn" class="text-gray-400 hover:text-gray-600 sm:hidden">
                            <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>
                        </button>
                    </div>
                    <nav class="flex sm:flex-col sm:space-y-2 mt-4 sm:mt-0">
                        <a href="#" id="general-tab-btn" class="settings-tab-btn flex-1 sm:flex-none flex items-center justify-center sm:justify-start gap-3 p-2 rounded-lg bg-gray-100 text-gray-800 font-semibold active">
                            <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.438.995s.145.755.438.995l1.003.827c.485.4.665 1.066.26 1.431l-1.296 2.247a1.125 1.125 0 01-1.37.49l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.063-.374-.313-.686-.645-.87a6.52 6.52 0 01-.22-.127c-.324-.196-.72-.257-1.075-.124l-1.217.456a1.125 1.125 0 01-1.37-.49l-1.296-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.437-.995s-.145-.755-.437-.995l-1.004-.827a1.125 1.125 0 01-.26-1.431l1.296-2.247a1.125 1.125
